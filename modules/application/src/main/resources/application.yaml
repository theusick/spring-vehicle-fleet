#  https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html
spring:
  application:
    name: fleet-backend

  datasource:
    url: ${BACKEND_DB_URL:jdbc:postgresql://localhost:5432/database}
    username: ${POSTGRES_USERNAME:user}
    password: ${POSTGRES_PASSWORD:hackme}
    driver-class-name: org.postgresql.Driver

    jpa:
      show-sql: true
      open-in-view: false
      hibernate:
        ddl-auto: create
      properties:
        #  http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#configurations
        hibernate:
          format_sql: true
          default_batch_fetch_size: 20
          # https://stackoverflow.com/questions/21257819/what-is-the-difference-between-hibernate-jdbc-fetch-size-and-hibernate-jdbc-batc
          jdbc.batch_size: 20

    flyway:
      user: ${POSTGRES_USERNAME:user}
      password: ${POSTGRES_PASSWORD:hackme}
      default-schema: public
      enabled: true
      locations: classpath:db/migration
      baseline-on-migrate: true

server:
  port: ${BACKEND_SERVER_PORT:8080}
  servlet:
    encoding:
      charset: UTF-8 # Charset of HTTP requests and responses. Added to the "Content-Type" header if not set explicitly
      enabled: true # Enable http encoding support
      force: true

springdoc:
  swagger-ui:
    path: /
